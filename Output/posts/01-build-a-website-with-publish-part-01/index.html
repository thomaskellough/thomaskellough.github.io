<!DOCTYPE html><html><head><meta charset="UTF-8"/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-175451977-1"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-175451977-1');</script><meta name="og:site_name" content="The Swift Protocol"/><link rel="canonical" href="www.thomaskellough/thomaskellough.github.io"/><meta name="twitter:url" content="www.thomaskellough/thomaskellough.github.io"/><meta name="og:url" content="www.thomaskellough/thomaskellough.github.io"/><title>Swift Skill Building | The Swift Protocol</title><meta name="twitter:title" content="Swift Skill Building | The Swift Protocol"/><meta name="og:title" content="Swift Skill Building | The Swift Protocol"/><meta name="description" content="Swift Skill Building With Thomas Kellough"/><meta name="twitter:description" content="Swift Skill Building With Thomas Kellough"/><meta name="og:description" content="Swift Skill Building With Thomas Kellough"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="http://www.theswiftprotocol.com/images/social.png"/><meta name="og:image" content="http://www.theswiftprotocol.com/images/social.png"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to The Swift Protocol"/></head><body><header><div class="nav-logo"><a href="/"><img src="/Images/blog-logo.png"/></a><nav class="nav-bar"><p>Swift Skill Building With Thomas Kellough</p><ul><li><h3><a href="/home">Home</a></h3></li><li><h3><a href="/posts">Posts</a></h3></li><li><h3><a href="/tags">Tags</a></h3></li></ul></nav></div></header><div class="wrapper"><article><h1>Build your very own website using Swift - Part 1</h1><div class="post-tags" markdown="1">
        <a class="post-category post-category-feature" href="/tags/feature">Feature</a>
        <a class="post-category post-category-publish" href="/tags/publish">Publish</a>
        <a class="post-category post-category-website" href="/tags/website">Website</a>
        <a class="post-category post-category-protocols" href="/tags/protocols">Protocols</a>
</div><table class="posts-table">
    <tr>
        <th class="th-single-right"><a href="/posts/01-build-a-website-with-publish-part-02" style="text-decoration: none">Creating your own nodes &rarr;</a></th>
    </tr>
</table><h3>Prerequisites</h3><p>Requirements:</p><ul><li>Swift 5.2 (or later)</li></ul><ul><li>macOS Catalina 10.15 (or later)</li></ul><ul><li>Some experience in Swift</li></ul><ul><li>Not necessary, but background experience in HTML/CSS and web design will help</li></ul><h2>Introduction</h2><p>When programmers hear the word "Swift" they instantly think of iOS apps and Apple. This is because Swift was developed by Apple for iOS, iPadOS, macOS, watchOS, and tvOS. It was designed to take over Objective-C and so far has been doing an excellent job with it.</p><p>However, programming languages are constantly changing and improving and Swift is no exception. <a href="https://www.swiftbysundell.com/">John Sundell</a> is very popular in the Swift community and last year he released his <a href="https://github.com/JohnSundell/Publish">Publish</a> project that allows you to make static websites using Swift code. In fact, this website that you're reading this tutorial on was built using Publish!</p><p>All the hard work is done for us, however, the documentation is still being worked on. <a href="https://www.youtube.com/watch?v=JqdS-oi96Gk">Kilo Loco</a> has a great video to help you get started, but I wanted to create a more in depth guide to help you create your very own website from start to finish. At the end of this tutorial, you will have created <a href="https://swiftblogexample.github.io">this</a> website as well as have a decent idea of how to organize your code.</p><p>Now this tutorial doesn't go into a whole lot of detail with CSS and HTML because well frankly, it's not my strong point. However, I will show you enough to get you started. Note that even though Publish is written in Swift, we don't do a <em>whole lot</em> of normal Swift code that you normally see and there may be some advanced topics that we will quickly go over without digging in too deep.</p><p>With that being said, let's get started. I highly suggest taking a moment to look over the <a href="https://github.com/JohnSundell/Publish">publish repo</a> and getting a bit familiar with what we are dealing with. When you are ready, go ahead and clone the repo. To do that, open terminal, navigate to a directory of your choosing and type in <code></code><code>git clone https://github.com/JohnSundell/Publish.git</code><code></code> When finished, navigate to the newly created 'Publish' directory that you just cloned then run the terminal command <code></code><code>make</code><code></code>. This tutorial is split into four different sections, so feel free to take breaks as needed.</p><p><em>Tip: to change directories using terminal commands just type <code></code><code>cd /directory/of/your/choosing/</code><code></code> </em></p><p>The <code></code><code>make</code><code></code> command runs the make file that's included in the Publish repo. If you get a <strong>permission denied</strong> when trying to run this, use the sudo command <code></code><code>sudo make</code><code></code> and use admin privldeges (assuming you have them). At this point, I'd recommend creating a separate directory to store your own own website. After navigating to your new directory inside your terminal, run the command <code></code><code>publish new</code><code></code>. This generates a handful of files that is now your new website.</p><h2>Launching your website</h2><p>Great! You now have your very first website using Publish! Let's take a look at it, shall we? The first step is to open your website by running <code></code><code>open package.swift</code><code></code>. Give Xcode some time to install all the dependencies needed. When it's finished, make sure your scheme is selected for your Mac, hit run, and ensure you have a success message. Here's what you should be seeing.</p><img class="post-image" src="/Images/Posts/01/01-01.png" alt="Xcode running publish" width="800"/><p>Let's launch your website! Now for those of you new to making websites, you don't just build it live on the web. First, you edit it and launch it locally on your computer where only you can see it. How do we do that? Go back to your terminal and run the command <code></code><code>publish run</code><code></code>. You'll see your terminal do a bunch of things, but the end is what we want. You should see a "Successfully published (your website)" and then a line under it stating "Starting web server at http://localhoste:8000". You can type this inside of a web browser of your choosing or just <code>cmd + click</code> it directly from the terminal. Viola! You have your first website that should look something like this.</p><img class="post-image" src="/Images/Posts/01/01-02.png" alt="Initial website launch" width="800"/><p><em>Note: depending on the settings of your mac you may have a white background. Publish already adapts to light/dark theme based on the settings of your mac.</em></p><h2>Personalizing your website</h2><p>Now I promise we will get to adding content, but bear with me. I want to show you everything I can from start to finish so you understand most of the components in this package. The first step is personalizing this website to your liking.</p><h3>Creating your own CSS file</h3><p>Even though there are a lot of CSS styles built in, you're going to want to have full control over your CSS in your own website. Let's start by creating our own CSS file. Look over in your Project Navigator (that's the sidebar to the left that shows you all of your folders and files) and create a new folder in your <code>Resources</code> folder named <code>MyTheme</code>. Inside <code>MyTheme</code>, create a new file. You can either right click it and select <code>New File</code> or <code>cmd + n</code> after highlighting the folder. Name this file <code>styles.css</code> (yes, that means removing the Swift extension!). Now you can write all your CSS from Scratch, OR you can take what's already done for us and add then edit it as needed. To do the latter look in your project navigator under "Swift Package Dependencies" and navigate to "Publish&gt;Resources&gt;FoundationTheme&gt;styles.css" and copy all of the CSS from there into the new CSS file you created. Here is an image to show you where you should be at right now.</p><img class="post-image" src="/Images/Posts/01/01-03.png" alt="Xcode showing style.css file" width="800"/><h3>Creating your own theme</h3><p>I'm about to show you how to create your own theme, but let's first take a look at the default theme that comes with Publish called <code>Foundation</code>. In your Swift Package Dependencies section of your project navigator, navigate to "Publish &gt; Sources &gt; Publish &gt; API &gt; Theme+Foundation.swift". You should see a file that looks like this.</p><pre><code><span class="comment">/**
*  Publish
*  Copyright (c) John Sundell 2019
*  MIT license, see LICENSE file for details
*/</span>

<span class="keyword">import</span> Plot

<span class="keyword">public extension</span> <span class="type">Theme</span> {
    <span class="comment">/// The default "Foundation" theme that Publish ships with, a very
    /// basic theme mostly implemented for demonstration purposes.</span>
    <span class="keyword">static var</span> foundation: <span class="type">Self</span> {
        <span class="type">Theme</span>(
            htmlFactory: <span class="type">FoundationHTMLFactory</span>(),
            resourcePaths: [<span class="string">"Resources/FoundationTheme/styles.css"</span>]
        )
    }
}

<span class="keyword">private struct</span> FoundationHTMLFactory&lt;Site: <span class="type">Website</span>&gt;: <span class="type">HTMLFactory</span> {
    <span class="keyword">func</span> makeIndexHTML(for index: <span class="type">Index</span>,
                       context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(
            .<span class="call">lang</span>(context.<span class="property">site</span>.<span class="property">language</span>),
            .<span class="call">head</span>(for: index, on: context.<span class="property">site</span>),
            .<span class="call">body</span>(
                .<span class="call">header</span>(for: context, selectedSection: <span class="keyword">nil</span>),
                .<span class="call">wrapper</span>(
                    .<span class="call">h1</span>(.<span class="call">text</span>(index.<span class="property">title</span>)),
                    .<span class="call">p</span>(
                        .<span class="call">class</span>(<span class="string">"description"</span>),
                        .<span class="call">text</span>(context.<span class="property">site</span>.<span class="property">description</span>)
                    ),
                    .<span class="call">h2</span>(<span class="string">"Latest content"</span>),
                    .<span class="call">itemList</span>(
                        for: context.<span class="call">allItems</span>(
                            sortedBy: \.<span class="property">date</span>,
                            order: .<span class="dotAccess">descending</span>
                        ),
                        on: context.<span class="property">site</span>
                    )
                ),
                .<span class="call">footer</span>(for: context.<span class="property">site</span>)
            )
        )
    }

    <span class="keyword">func</span> makeSectionHTML(for section: <span class="type">Section</span>&lt;<span class="type">Site</span>&gt;,
                         context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(
            .<span class="call">lang</span>(context.<span class="property">site</span>.<span class="property">language</span>),
            .<span class="call">head</span>(for: section, on: context.<span class="property">site</span>),
            .<span class="call">body</span>(
                .<span class="call">header</span>(for: context, selectedSection: section.<span class="property">id</span>),
                .<span class="call">wrapper</span>(
                    .<span class="call">h1</span>(.<span class="call">text</span>(section.<span class="property">title</span>)),
                    .<span class="call">itemList</span>(for: section.<span class="property">items</span>, on: context.<span class="property">site</span>)
                ),
                .<span class="call">footer</span>(for: context.<span class="property">site</span>)
            )
        )
    }

    <span class="keyword">func</span> makeItemHTML(for item: <span class="type">Item</span>&lt;<span class="type">Site</span>&gt;,
                      context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(
            .<span class="call">lang</span>(context.<span class="property">site</span>.<span class="property">language</span>),
            .<span class="call">head</span>(for: item, on: context.<span class="property">site</span>),
            .<span class="call">body</span>(
                .<span class="call">class</span>(<span class="string">"item-page"</span>),
                .<span class="call">header</span>(for: context, selectedSection: item.<span class="property">sectionID</span>),
                .<span class="call">wrapper</span>(
                    .<span class="call">article</span>(
                        .<span class="call">div</span>(
                            .<span class="call">class</span>(<span class="string">"content"</span>),
                            .<span class="call">contentBody</span>(item.<span class="property">body</span>)
                        ),
                        .<span class="call">span</span>(<span class="string">"Tagged with: "</span>),
                        .<span class="call">tagList</span>(for: item, on: context.<span class="property">site</span>)
                    )
                ),
                .<span class="call">footer</span>(for: context.<span class="property">site</span>)
            )
        )
    }

    <span class="keyword">func</span> makePageHTML(for page: <span class="type">Page</span>,
                      context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(
            .<span class="call">lang</span>(context.<span class="property">site</span>.<span class="property">language</span>),
            .<span class="call">head</span>(for: page, on: context.<span class="property">site</span>),
            .<span class="call">body</span>(
                .<span class="call">header</span>(for: context, selectedSection: <span class="keyword">nil</span>),
                .<span class="call">wrapper</span>(.<span class="call">contentBody</span>(page.<span class="property">body</span>)),
                .<span class="call">footer</span>(for: context.<span class="property">site</span>)
            )
        )
    }

    <span class="keyword">func</span> makeTagListHTML(for page: <span class="type">TagListPage</span>,
                         context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>? {
        <span class="type">HTML</span>(
            .<span class="call">lang</span>(context.<span class="property">site</span>.<span class="property">language</span>),
            .<span class="call">head</span>(for: page, on: context.<span class="property">site</span>),
            .<span class="call">body</span>(
                .<span class="call">header</span>(for: context, selectedSection: <span class="keyword">nil</span>),
                .<span class="call">wrapper</span>(
                    .<span class="call">h1</span>(<span class="string">"Browse all tags"</span>),
                    .<span class="call">ul</span>(
                        .<span class="call">class</span>(<span class="string">"all-tags"</span>),
                        .<span class="call">forEach</span>(page.<span class="property">tags</span>.<span class="call">sorted</span>()) { tag <span class="keyword">in</span>
                            .<span class="call">li</span>(
                                .<span class="call">class</span>(<span class="string">"tag"</span>),
                                .<span class="call">a</span>(
                                    .<span class="call">href</span>(context.<span class="property">site</span>.<span class="call">path</span>(for: tag)),
                                    .<span class="call">text</span>(tag.<span class="property">string</span>)
                                )
                            )
                        }
                    )
                ),
                .<span class="call">footer</span>(for: context.<span class="property">site</span>)
            )
        )
    }

    <span class="keyword">func</span> makeTagDetailsHTML(for page: <span class="type">TagDetailsPage</span>,
                            context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>? {
        <span class="type">HTML</span>(
            .<span class="call">lang</span>(context.<span class="property">site</span>.<span class="property">language</span>),
            .<span class="call">head</span>(for: page, on: context.<span class="property">site</span>),
            .<span class="call">body</span>(
                .<span class="call">header</span>(for: context, selectedSection: <span class="keyword">nil</span>),
                .<span class="call">wrapper</span>(
                    .<span class="call">h1</span>(
                        <span class="string">"Tagged with "</span>,
                        .<span class="call">span</span>(.<span class="call">class</span>(<span class="string">"tag"</span>), .<span class="dotAccess">text</span>(page.<span class="property">tag</span>.<span class="property">string</span>))
                    ),
                    .<span class="call">a</span>(
                        .<span class="call">class</span>(<span class="string">"browse-all"</span>),
                        .<span class="call">text</span>(<span class="string">"Browse all tags"</span>),
                        .<span class="call">href</span>(context.<span class="property">site</span>.<span class="property">tagListPath</span>)
                    ),
                    .<span class="call">itemList</span>(
                        for: context.<span class="call">items</span>(
                            taggedWith: page.<span class="property">tag</span>,
                            sortedBy: \.<span class="property">date</span>,
                            order: .<span class="dotAccess">descending</span>
                        ),
                        on: context.<span class="property">site</span>
                    )
                ),
                .<span class="call">footer</span>(for: context.<span class="property">site</span>)
            )
        )
    }
}

<span class="keyword">private extension</span> <span class="type">Node</span> <span class="keyword">where</span> <span class="type">Context</span> == <span class="type">HTML</span>.<span class="type">BodyContext</span> {
    <span class="keyword">static func</span> wrapper(<span class="keyword">_</span> nodes: <span class="type">Node</span>...) -&gt; <span class="type">Node</span> {
        .<span class="call">div</span>(.<span class="call">class</span>(<span class="string">"wrapper"</span>), .<span class="dotAccess">group</span>(nodes))
    }

    <span class="keyword">static func</span> header&lt;T: <span class="type">Website</span>&gt;(
        for context: <span class="type">PublishingContext</span>&lt;<span class="type">T</span>&gt;,
        selectedSection: <span class="type">T</span>.<span class="type">SectionID</span>?
    ) -&gt; <span class="type">Node</span> {
        <span class="keyword">let</span> sectionIDs = <span class="type">T</span>.<span class="type">SectionID</span>.<span class="property">allCases</span>

        <span class="keyword">return</span> .<span class="call">header</span>(
            .<span class="call">wrapper</span>(
                .<span class="call">a</span>(.<span class="call">class</span>(<span class="string">"site-name"</span>), .<span class="dotAccess">href</span>(<span class="string">"/"</span>), .<span class="dotAccess">text</span>(context.<span class="property">site</span>.<span class="property">name</span>)),
                .<span class="call">if</span>(sectionIDs.<span class="property">count</span> &gt; <span class="number">1</span>,
                    .<span class="call">nav</span>(
                        .<span class="call">ul</span>(.<span class="call">forEach</span>(sectionIDs) { section <span class="keyword">in</span>
                            .<span class="call">li</span>(.<span class="call">a</span>(
                                .<span class="call">class</span>(section == selectedSection ? <span class="string">"selected"</span> : <span class="string">""</span>),
                                .<span class="call">href</span>(context.<span class="property">sections</span>[section].path),
                                .<span class="call">text</span>(context.<span class="property">sections</span>[section].title)
                            ))
                        })
                    )
                )
            )
        )
    }

    <span class="keyword">static func</span> itemList&lt;T: <span class="type">Website</span>&gt;(for items: [<span class="type">Item</span>&lt;<span class="type">T</span>&gt;], on site: <span class="type">T</span>) -&gt; <span class="type">Node</span> {
        <span class="keyword">return</span> .<span class="call">ul</span>(
            .<span class="call">class</span>(<span class="string">"item-list"</span>),
            .<span class="call">forEach</span>(items) { item <span class="keyword">in</span>
                .<span class="call">li</span>(.<span class="call">article</span>(
                    .<span class="call">h1</span>(.<span class="call">a</span>(
                        .<span class="call">href</span>(item.<span class="property">path</span>),
                        .<span class="call">text</span>(item.<span class="property">title</span>)
                    )),
                    .<span class="call">tagList</span>(for: item, on: site),
                    .<span class="call">p</span>(.<span class="call">text</span>(item.<span class="property">description</span>))
                ))
            }
        )
    }

    <span class="keyword">static func</span> tagList&lt;T: <span class="type">Website</span>&gt;(for item: <span class="type">Item</span>&lt;<span class="type">T</span>&gt;, on site: <span class="type">T</span>) -&gt; <span class="type">Node</span> {
        <span class="keyword">return</span> .<span class="call">ul</span>(.<span class="call">class</span>(<span class="string">"tag-list"</span>), .<span class="dotAccess">forEach</span>(item.<span class="property">tags</span>) { tag <span class="keyword">in</span>
            .<span class="call">li</span>(.<span class="call">a</span>(
                .<span class="call">href</span>(site.<span class="call">path</span>(for: tag)),
                .<span class="call">text</span>(tag.<span class="property">string</span>)
            ))
        })
    }

    <span class="keyword">static func</span> footer&lt;T: <span class="type">Website</span>&gt;(for site: <span class="type">T</span>) -&gt; <span class="type">Node</span> {
        <span class="keyword">return</span> .<span class="call">footer</span>(
            .<span class="call">p</span>(
                .<span class="call">text</span>(<span class="string">"Generated using "</span>),
                .<span class="call">a</span>(
                    .<span class="call">text</span>(<span class="string">"Publish"</span>),
                    .<span class="call">href</span>(<span class="string">"https://github.com/johnsundell/publish"</span>)
                )
            ),
            .<span class="call">p</span>(.<span class="call">a</span>(
                .<span class="call">text</span>(<span class="string">"RSS feed"</span>),
                .<span class="call">href</span>(<span class="string">"/feed.rss"</span>)
            ))
        )
    }
}

</code></pre><p>We are going to break this apart with our own custom theme to make it easier to understand and more organized. The first piece I want you to look at is the public extension on Theme.</p><pre><code><span class="keyword">public extension</span> <span class="type">Theme</span> {
    <span class="comment">/// The default "Foundation" theme that Publish ships with, a very
    /// basic theme mostly implemented for demonstration purposes.</span>
    <span class="keyword">static var</span> foundation: <span class="type">Self</span> {
        <span class="type">Theme</span>(
            htmlFactory: <span class="type">FoundationHTMLFactory</span>(),
            resourcePaths: [<span class="string">"Resources/FoundationTheme/styles.css"</span>]
        )
    }
}
</code></pre><p>This creates a theme with a couple of arguments. The first being the <code>HTMLFactory()</code> and the second being a path to your CSS. Let's begin by creating our own theme that we can customize easily. Head to your project navigator and create a new Swift file called <code>MyHTMLFactory.swift</code> inside of <code>Sources &gt; BlogExample (or whatever your blog is named!)</code>. Now what we want to do is take all of these functions and separate them into their own files. I'll give you the bones of it here, but feel free to take them from <code>Theme+Foundation</code> and edit them as you see fit.</p><p>Inside <code>MyHTMLFactory.swift</code> add the following. (Note that I changed the struct name!)</p><pre><code><span class="keyword">import</span> Publish
<span class="keyword">import</span> Plot

<span class="keyword">struct</span> MyHTMLFactory&lt;Site: <span class="type">Website</span>&gt;: <span class="type">HTMLFactory</span> {

}
</code></pre><p>When you press <code></code><code>cmd + b</code><code></code> to build your app you should see an error. <code></code><code>Type 'MyHTMLFactory&lt;Site&gt;' does not conform to protocol 'HTMLFactor'</code><code></code>What's this? Well, MyHTMLFactory is actually a protocol that needs specific functions. If you're unfamiliar with protocols, they define a blueprint or methods and properties that you can allow other classes and structs to adopt. Here is what the protocol of MyHTMLFactory looks like.</p><pre><code><span class="keyword">import</span> Plot

<span class="comment">/// Protocol used to implement a website theme's underlying factory,
/// that creates HTML for a site's various locations using the Plot DSL.</span>
<span class="keyword">public protocol</span> HTMLFactory {
    <span class="comment">/// The website that the factory is for. Generic constraints may be
    /// applied to this type to require that a website fulfills certain
    /// requirements in order to use this factory.</span>
    <span class="keyword">associatedtype</span> Site: <span class="type">Website</span>

    <span class="comment">/// Create the HTML to use for the website's main index page.
    /// - parameter index: The index page to generate HTML for.
    /// - parameter context: The current publishing context.</span>
    <span class="keyword">func</span> makeIndexHTML(for index: <span class="type">Index</span>,
                       context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>

    <span class="comment">/// Create the HTML to use for the index page of a section.
    /// - parameter section: The section to generate HTML for.
    /// - parameter context: The current publishing context.</span>
    <span class="keyword">func</span> makeSectionHTML(for section: <span class="type">Section</span>&lt;<span class="type">Site</span>&gt;,
                         context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>

    <span class="comment">/// Create the HTML to use for an item.
    /// - parameter item: The item to generate HTML for.
    /// - parameter context: The current publishing context.</span>
    <span class="keyword">func</span> makeItemHTML(for item: <span class="type">Item</span>&lt;<span class="type">Site</span>&gt;,
                      context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>

    <span class="comment">/// Create the HTML to use for a page.
    /// - parameter page: The page to generate HTML for.
    /// - parameter context: The current publishing context.</span>
    <span class="keyword">func</span> makePageHTML(for page: <span class="type">Page</span>,
                      context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>

    <span class="comment">/// Create the HTML to use for the website's list of tags, if supported.
    /// Return `nil` if the theme that this factory is for doesn't support tags.
    /// - parameter page: The tag list page to generate HTML for.
    /// - parameter context: The current publishing context.</span>
    <span class="keyword">func</span> makeTagListHTML(for page: <span class="type">TagListPage</span>,
                         context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>?

    <span class="comment">/// Create the HTML to use for a tag details page, used to represent a single
    /// tag. Return `nil` if the theme that this factory is for doesn't support tags.
    /// - parameter page: The tag details page to generate HTML for.
    /// - parameter context: The current publishing context.</span>
    <span class="keyword">func</span> makeTagDetailsHTML(for page: <span class="type">TagDetailsPage</span>,
                            context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>?
}
</code></pre><p>So we need to add these stubs. The great thing about Xcode, is it can automatically do it for us. Remember that error that popped up? Go ahead and click the red circle on the left side of the error and click "Fix".</p><img class="post-image" src="/Images/Posts/01/01-04.png" alt="Xcode running publish" width="800"/><p>This should add the following protocol stubs, but with no return values. Go ahead and fill the stubs with a simple return HTML to get started. Here's an example.</p><pre><code><span class="keyword">struct</span> MyHTMLFactory&lt;Site: <span class="type">Website</span>&gt;: <span class="type">HTMLFactory</span> {
    <span class="keyword">func</span> makeIndexHTML(for index: <span class="type">Index</span>, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(.<span class="call">text</span>(<span class="string">"Hello, index"</span>))
    }

    <span class="keyword">func</span> makeSectionHTML(for section: <span class="type">Section</span>&lt;<span class="type">Site</span>&gt;, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(.<span class="call">text</span>(<span class="string">"Hello, section"</span>))
    }

    <span class="keyword">func</span> makeItemHTML(for item: <span class="type">Item</span>&lt;<span class="type">Site</span>&gt;, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(.<span class="call">text</span>(<span class="string">"Hello, item"</span>))
    }

    <span class="keyword">func</span> makePageHTML(for page: <span class="type">Page</span>, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span> {
        <span class="type">HTML</span>(.<span class="call">text</span>(<span class="string">"Hello, page"</span>))
    }

    <span class="keyword">func</span> makeTagListHTML(for page: <span class="type">TagListPage</span>, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>? {
        <span class="type">HTML</span>(.<span class="call">text</span>(<span class="string">"Hello, tag list"</span>))
    }

    <span class="keyword">func</span> makeTagDetailsHTML(for page: <span class="type">TagDetailsPage</span>, context: <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>? {
        <span class="type">HTML</span>(.<span class="call">text</span>(<span class="string">"Hello, tag details"</span>))
    }
}
</code></pre><p>Let's now navigate to our <code>main.swift</code> file (should be in Sources/BlogExample) and change it up a bit. The first change I want you to do is to add this extension. You may have to change <code>BlogExample</code> to whatever your blog is named. In fact, expect to do that from now on because I won't be reminding you again. We are also adding the CSS file that we created earlier to our resourcePaths.</p><pre><code><span class="keyword">extension</span> <span class="type">Theme</span> <span class="keyword">where</span> <span class="type">Site</span> == <span class="type">BlogExample</span> {
    <span class="keyword">static var</span> myTheme: <span class="type">Theme</span> {
        <span class="type">Theme</span>(htmlFactory: <span class="type">MyHTMLFactory</span>(), resourcePaths: [<span class="string">"Resources/MyTheme/styles.css"</span>])
    }
}
</code></pre><p>The next change is editing the last line to use your theme. It should look like this.</p><pre><code><span class="keyword">try</span> <span class="type">BlogExample</span>().<span class="call">publish</span>(withTheme: .<span class="dotAccess">myTheme</span>)
</code></pre><p>Note that if you can't automatically see <code>.myTheme</code> after adding the extension then buidling your website can allow it to autopopulate. Your final <code>main.swift</code> file should look like this. Feel free to run your website, but all you will see is "Hello, Index".</p><pre><code><span class="keyword">import</span> Foundation
<span class="keyword">import</span> Publish
<span class="keyword">import</span> Plot

<span class="comment">// This type acts as the configuration for your website.</span>
<span class="keyword">struct</span> BlogExample: <span class="type">Website</span> {
    <span class="keyword">enum</span> SectionID: <span class="type">String</span>, <span class="type">WebsiteSectionID</span> {
        <span class="comment">// Add the sections that you want your website to contain here:</span>
        <span class="keyword">case</span> posts
    }

    <span class="keyword">struct</span> ItemMetadata: <span class="type">WebsiteItemMetadata</span> {
        <span class="comment">// Add any site-specific metadata that you want to use here.</span>
    }

    <span class="comment">// Update these properties to configure your website:</span>
    <span class="keyword">var</span> url = <span class="type">URL</span>(string: <span class="string">"https://your-website-url.com"</span>)!
    <span class="keyword">var</span> name = <span class="string">"BlogExample"</span>
    <span class="keyword">var</span> description = <span class="string">"A description of BlogExample"</span>
    <span class="keyword">var</span> language: <span class="type">Language</span> { .<span class="dotAccess">english</span> }
    <span class="keyword">var</span> imagePath: <span class="type">Path</span>? { <span class="keyword">nil</span> }
}

<span class="keyword">extension</span> <span class="type">Theme</span> <span class="keyword">where</span> <span class="type">Site</span> == <span class="type">BlogExample</span> {
    <span class="keyword">static var</span> myTheme: <span class="type">Theme</span> {
        <span class="type">Theme</span>(htmlFactory: <span class="type">MyHTMLFactory</span>(), resourcePaths: [<span class="string">"Resources/MyTheme/styles.css"</span>])
    }
}

<span class="comment">// This will generate your website using the built-in Foundation theme:</span>
<span class="keyword">try</span> <span class="type">BlogExample</span>().<span class="call">publish</span>(withTheme: .<span class="dotAccess">myTheme</span>)

</code></pre><table class="posts-table">
    <tr>
        <th class="th-single-right"><a href="/posts/01-build-a-website-with-publish-part-02" style="text-decoration: none">Creating your own nodes &rarr;</a></th>
    </tr>
</table></article></div><div class="footer-social"><div>© 2021 The Swift Protocol</div><div>Generated using <a href="https://github.com/johnsundell/publish">Publish</a>. Written in Swift</div><div><a href="https://www.linkedin.com/in/thomas-kellough/">LinkedIn</a> | <a href="https://github.com/thomaskellough">Github</a> | <a href="mailto:theswiftprotocol@gmail.com">Email</a></div></div></body></html>